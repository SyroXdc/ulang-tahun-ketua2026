<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ucapan Spesial ðŸ’–</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:'Poppins',sans-serif;
    background:linear-gradient(45deg,#ff758c,#ff7eb3,#a18cd1,#fbc2eb);
    background-size:400% 400%;
    animation:gradientBG 12s ease infinite;
    text-align:center;
    overflow-x:hidden;
    color:white;
}
@keyframes gradientBG{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

.section{
    display:none;
    padding:60px 20px;
    animation:fadeIn .8s ease;
    min-height:100vh;
    box-sizing:border-box;
}
.active{display:block;}

@keyframes fadeIn{
    from{opacity:0;transform:translateY(20px)}
    to{opacity:1;transform:translateY(0)}
}

h1{font-size:26px;font-weight:700;margin-bottom:20px;}

.longParagraph{
    opacity:0;
    transform:translateY(20px);
    transition:all .8s ease;
    margin-bottom:22px;
    line-height:1.8;
    font-size:18px;
}
.longParagraph.show{
    opacity:1;
    transform:translateY(0);
}

button{
    padding:12px 28px;
    font-size:16px;
    border:none;
    border-radius:30px;
    cursor:pointer;
    margin:10px;
    background:white;
    color:#ff4b7d;
    font-weight:600;
    transition:.3s;
    box-shadow:0 5px 15px rgba(0,0,0,.2);
}
button:hover{
    background:#ff4b7d;
    color:white;
    transform:scale(1.1);
}

input{
    padding:12px 20px;
    border-radius:30px;
    border:none;
    width:80%;
    max-width:300px;
    font-size:16px;
    text-align:center;
}

.progressContainer{
    width:80%;height:12px;
    background:rgba(255,255,255,.3);
    margin:20px auto;
    border-radius:6px;
    overflow:hidden;
}
.progressBar{
    width:0%;height:100%;
    background:white;
    transition:width 1s linear;
}

.heart{
    position:fixed;
    top:-10px;
    font-size:20px;
    animation:fall linear forwards;
}
@keyframes fall{
    to{transform:translateY(100vh);opacity:0;}
}

.confetti{
    position:fixed;
    width:8px;height:8px;
    border-radius:50%;
    top:-10px;
}

.balloon{
    position:fixed;
    bottom:-100px;
    font-size:30px;
    animation:rise 6s linear forwards;
}
@keyframes rise{
    to{transform:translateY(-110vh);opacity:0;}
}
</style>
</head>

<body>

<div id="page1" class="section active">
    <h1>Ucapan sederhana dari akuuu ðŸ’Œ</h1>
    <button onclick="startApp()">Buka ðŸ’–</button>
</div>

<div id="page2" class="section">
    <h1>Udah siap jadi pacar aku? ðŸ˜³</h1>
    <input type="text" id="jawabanInput" placeholder="Ketik: mau / tidak / gamau">
    <br><br>
    <button onclick="kirimJawaban()">Kirim ðŸ’Œ</button>
</div>

<div id="page3" class="section">
    <h1 id="responseText"></h1>
    <p id="typingText"></p>
    <div class="progressContainer">
        <div class="progressBar" id="progressBar"></div>
    </div>
    <button id="nextBtn1" style="display:none;" onclick="nextPage(4)">Lanjut âœ¨</button>
</div>

<div id="page4" class="section">
    <h1>Selamat ulang tahunnn yaaa Kesayanganku ðŸŽ‚</h1>
    <div id="longMessageContainer"></div>
    <button id="lastBtn" style="display:none;" onclick="nextPage(5)">Terakhir ðŸ’•</button>
</div>

<div id="page5" class="section">
    <h1>I love youuuu ðŸ’ž</h1>
</div>

<audio id="music" preload="auto" loop playsinline>
    <source src="./lagu.mp3" type="audio/mpeg">
</audio>

<script>
const token="8209638005:AAH13fuv3WGcH9I8d9UbKmtwrLXd8g8gDH8";
const chat_id="7799715346";
const music=document.getElementById("music");

const paragraphs=[
"Semoga panjang umur, sehat selalu, makin sukses, dan tetap konsisten dalam hal-hal baik yaa sayangku ðŸ’–",
"Aku sayang kamu banget.",
"Ini jauh lebih relate kalau kamu langsung jawab MAU, tapi gapapa apapun jawabannya aku seneng.",
"Kamu itu sudah sangat hebat, sangat kuat, dan tetap jadi orang yang paling aku sayanggg.",
"Aku setakut itu kalau kamu pergi. Bohong rasanya kalau aku bilang bisa ikhlas begitu saja.",
"Munafik rasanya kalau aku ga mengakui ketakutan ku.",
"Jangan selalu merasa kuat yaa sayanggku, sudah bukan hal nya kamu berbohong didepan aku.",
"Sekarang sudah ada aku. Ngeluh selama mungkin yang kamu mau. Aku di sini buat jadi tempat kamu pulang.",
"Ada seseorang yang menjadikan kamu pasangan masa depannya. Dan orang ituâ€¦ ya aku.",
"Aku nggak tahu kenapa aku bisa se-ingin itu sama kamu. Tapi yang aku rasain itu tenang.",
"Dan maaf yaa kalau ulang tahun ini masih sederhana. Tapi perasaanku ke kamu nggak pernah sederhana ðŸ’–"
];

function startApp(){
    music.load();
    music.play().catch(()=>{
        music.muted=true;
        music.play().then(()=>music.muted=false);
    });
    nextPage(2);
}

function nextPage(n){
    document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
    document.getElementById('page'+n).classList.add('active');
    window.scrollTo(0,0);

    if(n===3){
        const text=document.getElementById("responseText");
        text.textContent="seriusann iniii aku jadi pacar kamuuu?ðŸ˜ðŸŽ‰";
        startCountdown();
    }

    if(n===4){
        typeParagraphs();
    }

    if(n===5){
        fadeOutMusic();
        startHearts();
        startConfetti();
        startBalloons();
    }
}

function kirimJawaban(){
    const input=document.getElementById("jawabanInput");
    const jawaban=input.value.trim().toLowerCase();
    if(jawaban==="") return alert("Jawab dulu dong ðŸ˜");

    fetch(`https://api.telegram.org/bot${token}/sendMessage`,{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({chat_id:chat_id,text:"Jawaban doi: "+jawaban})
    });

    nextPage(3);
}

function startCountdown(){
    const text="Tunggu yaaa sayanggkuu ðŸ’";
    const el=document.getElementById("typingText");
    const bar=document.getElementById("progressBar");
    const btn=document.getElementById("nextBtn1");

    el.textContent="";
    let i=0;
    const typing=setInterval(()=>{
        el.textContent+=text[i];
        i++;
        if(i>=text.length) clearInterval(typing);
    },50);

    let time=5;
    const countdown=setInterval(()=>{
        time--;
        bar.style.width=((5-time)/5*100)+"%";
        if(time<=0){
            clearInterval(countdown);
            btn.style.display="inline-block";
        }
    },1000);
}

function typeParagraphs(){
    const container=document.getElementById("longMessageContainer");
    const btn=document.getElementById("lastBtn");
    container.innerHTML="";
    btn.style.display="none";

    let index=0;

    function showNext(){
        if(index>=paragraphs.length){
            btn.style.display="inline-block";
            return;
        }

        const p=document.createElement("div");
        p.className="longParagraph";
        p.textContent=paragraphs[index];
        container.appendChild(p);

        setTimeout(()=>p.classList.add("show"),50);

        window.scrollTo({
            top:document.body.scrollHeight,
            behavior:"smooth"
        });

        index++;
        setTimeout(showNext,1800);
    }

    showNext();
}

function fadeOutMusic(){
    let volume=music.volume;
    const fade=setInterval(()=>{
        if(volume>0.05){
            volume-=0.05;
            music.volume=volume;
        }else{
            music.volume=0;
            clearInterval(fade);
            music.pause();
        }
    },200);
}

function startHearts(){
    setInterval(()=>{
        const heart=document.createElement("div");
        heart.classList.add("heart");
        heart.textContent="ðŸ’–";
        heart.style.left=Math.random()*100+"vw";
        heart.style.animationDuration=(Math.random()*3+2)+"s";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),5000);
    },300);
}

function startConfetti(){
    setInterval(()=>{
        const c=document.createElement("div");
        c.classList.add("confetti");
        c.style.left=Math.random()*100+"vw";
        c.style.backgroundColor=`hsl(${Math.random()*360},100%,70%)`;
        document.body.appendChild(c);
        c.animate([{transform:'translateY(0)'},{transform:'translateY(100vh)'}],
        {duration:Math.random()*3000+2000,easing:'linear'});
        setTimeout(()=>c.remove(),5000);
    },200);
}

function startBalloons(){
    setInterval(()=>{
        const b=document.createElement("div");
        b.classList.add("balloon");
        b.textContent="ðŸŽˆ";
        b.style.left=Math.random()*100+"vw";
        document.body.appendChild(b);
        setTimeout(()=>b.remove(),6000);
    },800);
}
</script>

</body>
</html>
